map.define("rivendell.map")

-- Import default symbols
map.import("towns/symbols.map")

--[[ Author comments: map of Rivendell for ToME 3.  Have tried to remain
faithful to descriptions of the place in The Hobbit / LotR, but as with many
of the other places in Middle-Earth, we seem to have to fill in much of the
texture of Rivendell with conjecture, as I've done here.  Primary feature is
the Hall of Fire, from whence many of the quests in ToME are theoretically
going to originate.  The Hall branches out into a number of other minor
structures (shops and the like) so Rivendell serves as a standard town as
well as a locus for quests.  I've left some of the buildings without doors
or shops, though, in case we want to add some more specialized ones (say,
one that cures the Black Breath) later on. LD

First, we need to lay out some symbols that aren't in symbols.map so we
can use them here.
]]

map.symbol{ symbol='E' feat=FEAT_FLOOR info=3 monster=RACE_ELROND }

map.symbol{ symbol='%' feat=FEAT_FIRE info=0 }

map.symbol{ symbol='G' feat=FEAT_GLASS_WALL info=0 }

map.symbol{ symbol='x' feat=FEAT_ASH info=0 }

map.symbol{ symbol='F' feat=FEAT_SMALL_TREES info=0 }

map.symbol{ symbol='f' feat=FEAT_FLOWER info=0 }

-- Force elven monsters
level_flags.flags[FLAG_ELVEN] = 1

---------------- Town Layout ----------------
map.map
{
[[^^^^^^VVWWWWWVV^^^^^^^,,^V,^,^^^^^^^^^^^^^^^^^ff^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^fFFFFFFFFFF,f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-@WWWWWWW---^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^VVWWWWWVV^^^^^^^,,^V,^,^^^^^^^^^^^^^^^^^ff^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^fFFFFFFFFFF,f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-@WWWWWWW---^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^VVWWWWWVV^^^^^^^,,V,,^,^^^^^^^^^^^^^^^FTF^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^fTTTTTTTTTTTT,f^^^^^^^^^^^^^^^^^^^^^^^^^^^^--@WWWWWWW--^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^VVWWWWWVV^^^^,,,,,VV,^f^^^^^^^^^^^-f--^^^^^^^^---^^^^^^F,^^^^^^^^^TFTTTF^-^^^^^^^^^#####TT#####T^#####^^^^^^^^^^^^^^^^^^ff,TTTTTTTTTTf^^^^^^^^^^^^^^^^^^^^^^^^^^^f@WWWWWWW--^^^^^^^^^^^^^^^^^^^]],
[[^^^^^,^^VVWWWWWVV^^,,,,fVVf^,,^^^^^^^^^^^^^-f^^^^^^^ff^^^^^^^^^,^^^^^^^^-fF^-^^^^^^^^^^^^##f,f####OWO####OOO##^^^^^^^^^^^^^^^^^^^^^^^,fTTTTTTTTTTTff^^^^^^^^^^^^^^^^^^^^^^^@@WWWWWWW--^^^^^^^^^^^^^^--]],
[[^^^^^^^^^VVWWWWVV^,,,ffVVF-,-,,^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,^^^^^^^^^^^^^^^^^^^F^^^^^#OOOOOfFTOOOTVVOOTOO#^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,fFFFFFFFFFFff^^^^^^^^^^^^^^^^^^^^^,@WWWWWWW--^^^^^^^^^^--W]],
[[^^T^^^^^^^VVWWWWVV,,F,VVF,f-Ff,^^^^^^F^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^##OTTTOTTTF#FTTTOTTTO##^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^fff,f^^^^^^^^^^^^^^^^^^^^^^^^^^^^@WWWWWW--^^^^^^---WW]],
[[^^^^^^^^,^^VVWWWWVV,fFVfFF---f,,^^^^^^^^^^^^^^^^^^^^^^######^^^^^^^^^^######^^^--^^^FF###OOTTOOTTF###FFTOOTTOO###^^^^^^^^^^######^^^^^^^^^^######^^^^^^^^^^^^^^^,f--^^^^^^^^^^^^^^^,@WWWWWW------WWWWW]],
[[^^^^^^^^^^^^VVWWWWVV@VV--F^F-^^^^^^^^^f^^^^^^^,,f,,####x..5####^^^^####OOOO####^^^^####FOTFOOTTF#######FTOOTTOOO####^^^^####OOOO####^^^^####.V%%####^^^^^^^^^^^^^^^FTF^^^^^^^^^^^^^^^^-@WWWWWWWWWWWWWW]],
[[^^^^TT^^^^^^^VVWWWWVVV@,,FF--;^^^^^^^f-^^^^^FF,,f^##KKxx..--WW##^^##OOOO##OOOO##^^##TTTFOOOOTF####%%%####FOOFTFOOOO##^^##OOOO##OOOO##^^###2..VVV#..##^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,@WWWWWWW@,@^]],
[[^^^^^^^^^^^^^^@VVWWWVV@,ffF-F^^f^^^^--^^FF^^^,f#########..#########OO########OO####FFFOOOTTF###..#xxx#..###OOFTTTTOO####OO########OO####V#.#..#.#...####^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^@@-@@-@^^^^]],
[[^^^^^^,,^^^^^^^VVWWWVV@,F--fFT^^^^^^^-f^^^^^####f-fFTTT#..#VVVffFFOO##.#....##OOOOOOOOOTTTF##......E......##OOOOOOOOOOOOO###WWWW###OOOOOV#......#......####^^^^^^^^^^^^^^,f-f^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^^^^^^^@VVWWWVV@,-f,,f-^^^^^^^^^f^#####OOOOOOF####..####fFFOO##.1.F....#########FFFFF#...............#FFFFF#########......#K##TTTOf###.####f#f#f#f#f#####^^^^^^^^^VTTTVV^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^,^^^^^VVWWWWVV@,,-FTF^^^^^^^^^^###..OOOVVVVOT#........#fFTO####...............#######.....#####.....#######...........3...%###OOOFTT#.#7OOOOOOOOOOf#ff-###^^^^^^^^^VV^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^^^^^^VVW^WWVV@,,fTTT^^^^^^^^####....#,OOOOOO##........##FTOO##.F......#######.#...........#####.............#######......#K##-Of-####.###ff#f#f##OOff-f--####^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^T^^^^^^VVWWWWVV@,,FTT^^^^^^^^##.#.#.#.#####FT##...#..#...##TTTO##......##^^^^^#.#.#####.....#####.....#########^^^^^##.....###OOOf##......##fff###ffO#ff,f-FTT##^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^TTT^^^@VVWWWWVV@FFf-T^##^^^^^^#4...........####...#....#...###TOO###..###^^^^^^#.#.#^^^#.....#####.....#^^^^^^^^^^^^^^#.######fOff###......###--#VVVVOVVVVVVWWWV#^^^^^^^^^^^^^^^^-----^^^^^^^^^^^^]],
[[^^^^^^^^^^VVWWWWVV@--,--F-,#^^^^^^##.#.#.#.#............ff.......##TOOT#..#^FT###T^#...#^^##.....#####.....##^^^^VVf^^^^^^#.###-OOOO--#..........####VffOO#---FFTTT##^^T^^^^^^^^^^^^--fff--^^^^^^^^^^^]],
[[^^^^^^^^^VVWWWWVV@--T-,,f--##^^^^^^####......#........#....#......#TTOT#..#^^##.##^##.##^###.....#####.....###^^^VV-^^^^^^#.#f-fO-f-f##....VV....OOOOOOOO#f-f-FTT####^^TTT^^^^^^^^^^^^-----^^^^^^^^^^^]],
[[^^^^^^^@VVW^WWVV@-,-fT-,----###^^^^^^^###VV#...####....#..#....##.###O##..####...#^^#.#^^^##.....#####.....##^^^^^^^^^#####.####O######....VV....OOOOOOO#f-,---###^^^^^^T^^^^^^^^^^^^^^^^^^^^^^^^^^-ff]],
[[^^^^^^^^VVWWWWVV@-f--T--,f-,-f#####^^^^^#####.....##..........###................####.#^^^^#.....#####.....#^^#########..........................###f#f#ff#####^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^FFF-fFFF]],
[[^^^^^^^^VVWWWWWVV@ffFFTF--f-f,,,,-##^^^^^^^^####...###.......##^########..####........######.....#####.....####.........#######..#####.........###^##ff####^^^^^^^^^^^^^^^^^-^^^^^^^^^^^^FF--f--fFT---]],
[[^^^^^^^^@VVWWWWWVV@.FTTTT--,-ff-,-f#####^^^^^^^##....##......#^^^^^^^^^#..#^^##.#...#............#####..........#########^^^^^#..##^^##........##^^^####^^^^^^^^^^,,^^^^^^^^^^^^^^^^ff-T-F--fff--,,-ff]],
[[^^^^^,^^^^VVWW^WWVV@TFFT--f-f,-,-ffTFf-#####^^^^#.fVf.##..####^T^^^#####..##^^###...########.....#####.....######^^^^^^^^^^^###..#^^^^#####..###^^^^^^^^^^^^^^^^^^-^^^^^^^^^^^^^FF-TF-TTf--TFFT-F,-,--]],
[[^^^^^^^^^@VVWWWWWWVV@fFf,f--f-,-,f-O,,-,---######.VVV..#..#^^^^T^^##.......##^^^#...#^^^^###.....#####.....#^^^^^########^^^#...##^^^^^^^^#..#^^^^^^^FFTT^^^^^^^^^^^^^^^^^^^TTfFTfTFfTFFT^^^^^--,-OOOO]],
[[^^^^^-^^^^@VVWWW^WWVV@Tff-f-,--OO-O--,--ff,.......fVf..#..#^^^^^^##.........#^^^#...#^^###.......#####.....#^^^^##......#####..############..#####--f-fFTfTfFFT^^^^^^^^^^^^^^^TTFTFTTTFF^^^^^---fOOOff]],
[[,^^^-,,^^^^@VVWWWWWWVV@OOOOOOOOO--,,-,-,ff-............#..########..........#####...####...................#^,^^#..####.........................VG---,--f-,---f,--,fffTT^^^^^^^^^^^^TT^^^^^ff-fOOOff--]],
[[,,,-,--OOOOOOOOOOOOOOOOOOOOOOOO-,-OO---,---................................................#.....#####.....#^^^^#...............................VG--------,--,---,-ffFFTTTTF----^^^^^^^^TTFf--OOOfF-ff]],
[[,OOOOOOOOOOO@VVWWWWVV@OOOOOOOOO,OO--O,-,,-,.............................................####.....#####.....######........####OO############OO#####^^^^##FFT,-,-fff-----,--,-F--F,--,F------OOOOff-,-f-]],
[[OOOOOOOOOOO@VVWWWWWVV@^^^^^^^^OO--,--,-,,--######......#..########..........#####...#####^^#.....#####..................##----O--f-FTTTFFf-OO#^^^^^####---f,-f--,---ff----,OOOOOOOOOOOOOOOOOOOffFTFf--]],
[[OOOOOOO^^^^@VVWWWWWVV@^^^^^^^,-OO,OO-,-#####^^^^#.fVf..#..#^^^^^^###........#^^^#...#^^^^^^#.....#####..................8#--f-O--f-,fTTTFf-OO#######TTF--f--,---f----,-OOOOOOOOOOOOOOOOOOOOFT,-,--f--,]],
[[OO^^^^^,^^^,@VVWWWWVV@^^^^,,f--,f--#####^^^^^^^##.VVV..#..#^^-^^^^^#####..###^^^#...#^^^^^^#.....#####.....######.......##--,-OO--fF-,TTTfTOOTTTTTT--Ff-f--,--,fffOOOOOOOOOfff--ff--ff---FTTFTT--,--,-]],
[[O^^^^^^^^^^^@VVWWWWVV@^^^^--,--,-,##^^^^^^^^####..fVf..#..#^^^^^^^,-^^^#..#^^^^^#...#^f^^^^#.....#####.....#^^^^#..##....#f-f--OOO,,-,TTTTTOOTTTTTT--,-,-,-,,OOOOOOOOOOfff-f--f--,-,--fFFTTT^^^^^^^,--]],
[[^^^^^^^^^^^^@VVWWWWVV@^^^--,--#####^^^^^#####OOO.......#..#^^^-^^^^^^###..###^^^#...#^^-^^^#.....#####.....#^^^^#..##....#-,f--f-Off-f-TTTTOOT,TT--,-fF-,-,OOOOOOOff--f----fFFTTTFTTT^^^^^^^^^^^^ff,--]],
[[^^^^^^^^^^@VVWWWWVV@^^^^,f,F###^^^^^^^###TTfOO##########..##^^^f^^^^##......##^^#...#^^f^^^#.....#####.....#^^^^##......##f---f,,O--f-,-TTTOOTTT,T,f--,-,fOOOFFTF-TFF--F,-,-f--F^^^^^^^^^^^^^^Vf-.f,,-]],
[[^^^^^^^^@VVWWWWVV@^^^^^f,,f##^^^^^^####TFf,fO##............###^^^^^##..####..##^#...#^f^^^^#.....#####.....#^^^^^###..###----,-##O##ff-fFTTOOTTFTTT-OOOOOOO--,--f-f-TTFFFTF^^^^^^^^^^^^^^^^^^VWV--f,--]],
[[^^^VV^^@VVWWWWVV@^^^^^-f,-f#^^^^^^##WVffffffO#..########.....##^^^^#....9.....#^#...#^^^^^^#.....#####.....#^^^f^^^#..#f-,F-,-##fOf##---fFTOOTFTTTOOOOOOOO--,--f----fff-^^^^^^^^^^^^^^^^^^VWWWWW-ff---]],
[[^^^^VVV^^@VVWWWWVV@^^,,-f,##^^^^^^#WWVOOOOOOO#.....6......#...######.########.###...########.....#####.....#^^-^^^^#..#-----f##fOOOf##--f-fOOTTTTOOOff-f,--f--f,--fFT-^^^^^^^^^^^^^^^^^^^^^VWWWWV-f---]],
[[^^^^^^VV^@VVWWWWVV@^,,-^^^^^^-^^^^##WVffffffO#..########..#......................................#####.....#^^^^^^^#..-OOOOOOOOOOVOOOOOOOOOOOOOOOOfff,--F--Fff--f-f##^^^^^^^^^^^^^^^^^^^^^^^VWWWW-f---]],
[[^^^^^^^VVVVWWWWV@^^^-,^^^^^^^T^^^^^####TFF-fO##...........#......................................#####.....###^^^^##..-ff,-,-##fOOOf##fffff,---ff-f-f---ff---f--####^^^^^^^^^^^^^^^^^^^^^^^^^^^^Vff-ff]],
[[^^^^^^^^^^@VWWWWV@^^-^^^^^^^-^^^^^^^^^###TTfOO######.........#######..........###OO#########.................######...##f--,-,##fff##---,,F,--f,--fF---f---f,-###^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-,-]],
[[^^^,^^^^^^^@VWWWWV@^^^^^^^^^^^^^^^^^^^^^#####OOOOO.##xxx######^TFT^#.########.#T#OO#--f--f-#.........................##TF-f-,-f#####-f,--f,---,--,f--fFFTF#####^^^^^^^^^^^^^^^^^TTFTF^^^^^^^^^^^^TT,--]],
[[^^^FF^^^^^^^@VWWWWV@^^^^^^^^^^^^^^^^^^^^^^^^####.OO.##%##-OOOOOOOOO#..........#TFOOOOOOf-f-##.............###........#TTF---,-,-,--,---f-,,--,f--,---fF####^^^^^^^^^^^^^^^^^^^^^^^TTFT^^^^^^^^^^TFf-,-]],
[[^^^TT^^^^^^@VWWWWV@^^^^^^^^^^^^^^^^^^^^^^^^^^^^##.OOO###--OffOf#####.########.#####--fOOOfff###..#xxx#..###f##OO########FFF,--,-f---####ff-fFFFFF-f-f-##^^^^^^^^^^^^^^^^^^^^^^^^^^^^fFf^^^^^^^^^TTff,-]],
[[^^^TTT^^^^@VWWWWV@^^^^^^^^^^^^FfF^^^^^^^^^^^^^^^####OOOOOOOOOO##^^##..........##^^##----OO---f####%%%####-f-OOOO---##^^##--,-VV-f-f##^^##FFFTTTTFFF####^^^^^^^^^^^^^T^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,,,-]],
[[^^^^^T^^^^@VWWWWV@^^^^^^^^^^^^^^Ff-,^^^^^^^^^^^^^^^####----####^^^^####x%%x####^^^^####ffOOO-f-f#######OOOOOOf-f####^^^^####FVVF####^^^^####TTFT####^^^^^^^^^^^^^^^T^TT^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,^]],
[[^^^^^TT^^^^@VWWWWV@^^^^^^^^^^^^^^^--f-^^^^^^^^^^^^^^^^######^^^^^^^^^^######^^^^^^^^^^###--OOOO---###--Offf---###^^^^^^^^^^######^^^^^^^^^^######^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^^^^@VWWWWV@^^^^^^^^^^^ff-f--,--ff^^^^^^f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^##-f--OO---#---Of--f-##^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-VVV-^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^^^@VWWWWV@T^^^^^^^^--,-ff^^TTTTTT^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^#---f-OOOOOOOOO--f--#^^^^^^^^^^^^^^^^^^^^^^FF^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^,VVVVV^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^^@VWWWWV@Ff^^^^^^^^TTFTf^^^^FT^^^^^^^^^^^^^^^^--ff-f^,^^^^^^^^^^^^^^^^^^^^^^^FF^^^##FFF####FFF####FFF##^^^^^^,-^^^^^^^^^^^^^TT^^^^^^^^^^^-f^^^^^^,-^^^^^^^^^^^^^-VVV,^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^^^^^@VWWWWV@TTTFT^^^^^^^TTT^^^^^^^^^^^^^^^^^^^^^^^^^^FTF^^^^^^^^^^^^^^^^,,,^^^^^^^T^^^^#####^^#####^^#####^^^^^^^^--^^^^^^^^^TTTT^^^^^^^^^^^^^fF^^^^^^^^^^^^^^T^^^^^^^--,^^^^^^^^^^^^^^^^^^^^^^^^^^]],
[[^^^,T^@VWWWWV@,,FfT^^^^^^TTFF^^^^^^^^^^^^^^^^^F^^^^^^^F-,^^^^^^^^^^^^^^^^^^^,-f-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^FF^^^^^^^^^^^^^ff^^^^^^^^T^^^^^TT^^^^^^^^^^^^^^^^^^^^^^^^^TT^^^^^^^^]],
[[^^^,^@VWWWWV@-^^^^^^^^^^^^^,-,-,^^^^^^^^^^^^-^^^^^^^^^^^FFTFF^^^^^^^^^^^^^^^^^-,^^^^^^^^^^^^^^^^^^^T,F^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^FFfF^^^^^^]],
[[^^^^@VWWWWV@^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^F,-f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^T^^^^^^^]],
[[^^^^@VWWWWV@^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^F,-f^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^T^^^^^^^]],
}

map.level_size_to_map()
